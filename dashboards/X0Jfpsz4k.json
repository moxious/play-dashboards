{"meta":{"type":"db","canSave":false,"canEdit":true,"canAdmin":false,"canStar":false,"canDelete":false,"slug":"54872-data-links-not-always-rendering","url":"/d/X0Jfpsz4k/54872-data-links-not-always-rendering","expires":"0001-01-01T00:00:00Z","created":"2022-09-21T13:55:07Z","updated":"2022-09-21T13:55:07Z","updatedBy":"polinaboneva","createdBy":"polinaboneva","version":1,"hasAcl":false,"isFolder":false,"folderId":1113,"folderUid":"8OticeRnk","folderTitle":"Replicating issues","folderUrl":"/dashboards/f/8OticeRnk/replicating-issues","provisioned":false,"provisionedExternalId":"","annotationsPermissions":{"dashboard":{"canAdd":true,"canEdit":true,"canDelete":true},"organization":{"canAdd":false,"canEdit":false,"canDelete":false}},"hasPublicDashboard":false,"publicDashboardAccessToken":"","publicDashboardUid":"","publicDashboardEnabled":false},"dashboard":{"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","target":{"limit":100,"matchAny":false,"tags":[],"type":"dashboard"},"type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":1613,"links":[],"liveNow":false,"panels":[{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":5,"panels":[],"title":"Combined view","type":"row"},{"datasource":{"type":"prometheus","uid":"000000134"},"fieldConfig":{"defaults":{"color":{"mode":"continuous-GrYlRd"},"custom":{"fillOpacity":70,"lineWidth":0,"spanNulls":false},"links":[{"targetBlank":true,"title":"View in Slack","url":"url/archives/CBJUW0EJZ/p${__value.time}000000"}],"mappings":[{"options":{"1":{"color":"super-light-blue","index":1,"text":"warning"},"2":{"color":"red","index":0,"text":"critical"}},"type":"value"}],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null}]}},"overrides":[]},"gridPos":{"h":11,"w":12,"x":0,"y":1},"id":3,"maxPerRow":2,"options":{"alignValue":"left","legend":{"displayMode":"list","placement":"bottom","showLegend":false},"mergeValues":true,"rowHeight":0.9,"showValue":"never","tooltip":{"mode":"single","sort":"none"}},"repeatDirection":"h","targets":[{"datasource":{"type":"prometheus","uid":"000000134"},"editorMode":"code","exemplar":false,"expr":"(group by (alertname) (ALERTS{namespace=~\"$namespace\", alertstate=\"firing\", severity=\"critical\", severity=~\"$severity\", alertname=~\"$alertname\"}) + 1)\nor\n(group by (alertname) (ALERTS{namespace=~\"$namespace\", alertstate=\"firing\", severity=\"warning\", severity=~\"$severity\", alertname=~\"$alertname\"}))","legendFormat":"{{alertname}}","range":true,"refId":"A"}],"title":"By alert name: $namespace","type":"state-timeline"},{"datasource":{"type":"prometheus","uid":"000000134"},"fieldConfig":{"defaults":{"color":{"mode":"continuous-GrYlRd"},"custom":{"fillOpacity":70,"lineWidth":0,"spanNulls":false},"links":[],"mappings":[{"options":{"1":{"color":"super-light-blue","index":1,"text":"warning"},"2":{"color":"red","index":0,"text":"critical"}},"type":"value"}],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null}]}},"overrides":[]},"gridPos":{"h":11,"w":12,"x":12,"y":1},"id":11,"maxPerRow":2,"options":{"alignValue":"left","legend":{"displayMode":"list","placement":"bottom","showLegend":false},"mergeValues":true,"rowHeight":0.9,"showValue":"never","tooltip":{"mode":"single","sort":"none"}},"repeatDirection":"h","targets":[{"datasource":{"type":"prometheus","uid":"000000134"},"editorMode":"code","exemplar":false,"expr":"(group by (namespace) (ALERTS{namespace=~\"$namespace\", alertstate=\"firing\", severity=\"critical\", severity=~\"$severity\", alertname=~\"$alertname\"}) + 1)\nor\n(group by (namespace) (ALERTS{namespace=~\"$namespace\", alertstate=\"firing\", severity=\"warning\", severity=~\"$severity\", alertname=~\"$alertname\"}))","legendFormat":"{{namespace}}","range":true,"refId":"A"}],"title":"By namespace: $namespace","type":"state-timeline"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":12},"id":7,"panels":[],"title":"Per-namespace view","type":"row"},{"datasource":{"type":"prometheus","uid":"000000134"},"fieldConfig":{"defaults":{"color":{"mode":"continuous-GrYlRd"},"custom":{"fillOpacity":70,"lineWidth":0,"spanNulls":false},"mappings":[{"options":{"1":{"color":"super-light-blue","index":0,"text":"warning"},"2":{"color":"red","index":1,"text":"critical"}},"type":"value"}],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null}]}},"overrides":[]},"gridPos":{"h":11,"w":12,"x":0,"y":13},"id":2,"maxPerRow":2,"options":{"alignValue":"left","legend":{"displayMode":"list","placement":"bottom","showLegend":false},"mergeValues":true,"rowHeight":0.9,"showValue":"never","tooltip":{"mode":"single","sort":"none"}},"repeat":"namespace","repeatDirection":"h","targets":[{"datasource":{"type":"prometheus","uid":"000000134"},"editorMode":"code","expr":"(group by (alertname) (ALERTS{namespace=~\"$namespace\", alertstate=\"firing\", severity=\"critical\", severity=~\"$severity\", alertname=~\"$alertname\"}) + 1)\nor\n(group by (alertname) (ALERTS{namespace=~\"$namespace\", alertstate=\"firing\", severity=\"warning\", severity=~\"$severity\", alertname=~\"$alertname\"}))","legendFormat":"{{alertname}}","range":true,"refId":"A"}],"title":"$namespace","type":"state-timeline"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":35},"id":63,"panels":[],"title":"Alert Volumes","type":"row"},{"datasource":{"type":"prometheus","uid":"000000134"},"fieldConfig":{"defaults":{"color":{"mode":"continuous-GrYlRd"},"custom":{"fillOpacity":70,"lineWidth":0,"spanNulls":false},"links":[],"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]}},"overrides":[]},"gridPos":{"h":11,"w":12,"x":0,"y":36},"id":88,"maxPerRow":2,"options":{"alignValue":"left","legend":{"displayMode":"list","placement":"bottom","showLegend":false},"mergeValues":true,"rowHeight":0.9,"showValue":"never","tooltip":{"mode":"single","sort":"none"}},"repeatDirection":"h","targets":[{"datasource":{"type":"prometheus","uid":"000000134"},"editorMode":"code","exemplar":false,"expr":"(count by (alertname) (ALERTS{namespace=~\"$namespace\", alertstate=\"firing\", severity=\"critical\", severity=~\"$severity\", alertname=~\"$alertname\"}))\nor\n(count by (alertname) (ALERTS{namespace=~\"$namespace\", alertstate=\"firing\", severity=\"warning\", severity=~\"$severity\", alertname=~\"$alertname\"}))","legendFormat":"{{alertname}}","range":true,"refId":"A"}],"title":"Volume by alert","type":"state-timeline"},{"datasource":{"type":"prometheus","uid":"000000134"},"fieldConfig":{"defaults":{"color":{"mode":"continuous-GrYlRd"},"custom":{"fillOpacity":70,"lineWidth":0,"spanNulls":false},"links":[],"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]}},"overrides":[]},"gridPos":{"h":11,"w":12,"x":12,"y":36},"id":89,"maxPerRow":2,"options":{"alignValue":"left","legend":{"displayMode":"list","placement":"bottom","showLegend":false},"mergeValues":true,"rowHeight":0.9,"showValue":"never","tooltip":{"mode":"single","sort":"none"}},"repeatDirection":"h","targets":[{"datasource":{"type":"prometheus","uid":"000000134"},"editorMode":"code","exemplar":false,"expr":"(count by (namespace) (ALERTS{namespace=~\"$namespace\", alertstate=\"firing\", severity=\"critical\", severity=~\"$severity\", alertname=~\"$alertname\"}))\nor\n(count by (namespace) (ALERTS{namespace=~\"$namespace\", alertstate=\"firing\", severity=\"warning\", severity=~\"$severity\", alertname=~\"$alertname\"}))","legendFormat":"{{alertname}}","range":true,"refId":"A"}],"title":"Volume by namespace","type":"state-timeline"}],"refresh":false,"schemaVersion":37,"style":"dark","tags":[],"templating":{"list":[{"current":{"selected":false,"text":".*","value":".*"},"description":"Regex to populate namespaces list, doesn't have to be a complete match","hide":0,"name":"namespaceRegex","options":[{"selected":true,"text":".*","value":".*"}],"query":".*","skipUrlSync":false,"type":"textbox"},{"allValue":"","current":{"selected":true,"text":["ns"],"value":["ns"]},"datasource":{"type":"prometheus","uid":"000000134"},"definition":"query_result(group by (namespace) (kube_namespace_created{namespace=~\".*$namespaceRegex.*\"}))","hide":0,"includeAll":true,"multi":true,"name":"namespace","options":[],"query":{"query":"query_result(group by (namespace) (kube_namespace_created{namespace=~\".*$namespaceRegex.*\"}))","refId":"StandardVariableQuery"},"refresh":1,"regex":"/\"([^\"]+)\"/","skipUrlSync":false,"sort":1,"type":"query"},{"allValue":".*","current":{"selected":true,"text":["All"],"value":["$__all"]},"datasource":{"type":"prometheus","uid":"000000134"},"definition":"query_result(group by (alertname) (count_over_time(ALERTS{namespace=~\"$namespace\"}[$__range]))or group by (alertname) (count_over_time(ALERTS{exported_namespace=~\"$namespace\"}[$__range])))","hide":0,"includeAll":true,"multi":true,"name":"alertname","options":[],"query":{"query":"query_result(group by (alertname) (count_over_time(ALERTS{namespace=~\"$namespace\"}[$__range]))or group by (alertname) (count_over_time(ALERTS{exported_namespace=~\"$namespace\"}[$__range])))","refId":"StandardVariableQuery"},"refresh":2,"regex":"/\"([^\"]+)\"/","skipUrlSync":false,"sort":1,"type":"query"},{"allValue":".*","current":{"selected":true,"text":["critical","warning"],"value":["critical","warning"]},"hide":0,"includeAll":true,"multi":true,"name":"severity","options":[{"selected":false,"text":"All","value":"$__all"},{"selected":true,"text":"critical","value":"critical"},{"selected":true,"text":"warning","value":"warning"}],"query":"critical,warning","queryValue":"","skipUrlSync":false,"type":"custom"}]},"time":{"from":"now-7d","to":"now"},"timepicker":{},"timezone":"","title":"#54872 Data links not always rendering","uid":"X0Jfpsz4k","version":1,"weekStart":""}}