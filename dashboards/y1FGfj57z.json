{"meta":{"type":"db","canSave":false,"canEdit":true,"canAdmin":false,"canStar":false,"canDelete":false,"slug":"aws-iot-twinmaker-mixer-alarm-dashboard","url":"/d/y1FGfj57z/aws-iot-twinmaker-mixer-alarm-dashboard","expires":"0001-01-01T00:00:00Z","created":"2021-11-29T21:37:22Z","updated":"2023-01-31T00:33:39Z","updatedBy":"todd.treece@grafana.com","createdBy":"atif.ali@grafana.com","version":20,"hasAcl":false,"isFolder":false,"folderId":1272,"folderUid":"rGgObQt7k","folderTitle":"App: AWS IoT TwinMaker","folderUrl":"/dashboards/f/rGgObQt7k/app-aws-iot-twinmaker","provisioned":false,"provisionedExternalId":"","annotationsPermissions":{"dashboard":{"canAdd":true,"canEdit":true,"canDelete":true},"organization":{"canAdd":false,"canEdit":false,"canDelete":false}},"hasPublicDashboard":false,"publicDashboardAccessToken":"","publicDashboardUid":"","publicDashboardEnabled":false},"dashboard":{"annotations":{"list":[{"builtIn":1,"datasource":{"type":"datasource","uid":"grafana"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","target":{"limit":100,"matchAny":false,"tags":[],"type":"dashboard"},"type":"dashboard"}]},"description":"","editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":1273,"links":[],"liveNow":false,"panels":[{"collapsed":false,"datasource":{"type":"graphite","uid":"000000001"},"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":49,"panels":[],"title":"Introduction","type":"row"},{"datasource":{"type":"graphite","uid":"000000001"},"gridPos":{"h":12,"w":24,"x":0,"y":1},"id":45,"options":{"code":{"language":"plaintext","showLineNumbers":false,"showMiniMap":false},"content":"(feel free to click on the \"Introduction\" bar above this text to collapse this content)\n\n# AWS IoT TwinMaker Mixer Alarm Dashboard\n\nThis dashboard sample contains the following groups of panels:\n\n* Alarm List panel (top-left) - this provides a summary view of alarm states retrieved from the Timestream database you've set up\n  \n  * try clicking on Mixer entity entries to see detail metrics appear in the other panels\n\n* Equipment information panels (top-right) - this set of panels provides historic alarm activity, equipment metrics, equipment metadata, and links to technical documents for the selected Mixer entity\n  \n* Scene Viewer (bottom-left) - this provides a 3D view of where the select entity is located in the CookieFactory floor, you can also click on the Tags (floating blue icons) to select Mixer entities\n\n  * Mixer_1 is configured with a ModelShader linked to the Mixer's temperature readings. Try selecting Mixer_1 then selecting different time ranges in the \"Motor Temperature\" panel in the top-right. Try selecting different time ranges where the last data point is greater than 100 and less 100\n\n* Video Feeds (bottom-right) - this provides a video view of the CookieFactory stored in Amazon Kinesis Video Streams\n\n  * Mixers 0 through 12 are linked to one feed and Mixers 13 through 25 are linked to another. Try clicking different entities to see the video feed update\n\n  * Note: if you see a message regarding no fragments found, try expanding the time range by using the time selector (top-right of page) to select last 24 hours","mode":"markdown"},"pluginVersion":"9.3.6","targets":[{"queryType":"GetAlarms","refId":"A"}],"type":"text"},{"collapsed":false,"datasource":{"type":"graphite","uid":"000000001"},"gridPos":{"h":1,"w":24,"x":0,"y":13},"id":47,"panels":[],"title":"CookieFactory Telemetry","type":"row"},{"datasource":{"type":"grafana-iot-twinmaker-datasource","uid":"qenjJQtnk"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{"align":"auto","displayMode":"auto","inspect":false},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":13,"w":13,"x":0,"y":14},"id":41,"options":{"footer":{"fields":"","reducer":["sum"],"show":false},"showHeader":true,"sortBy":[{"desc":false,"displayName":"entityName"}]},"pluginVersion":"9.3.6","targets":[{"queryType":"GetAlarms","refId":"A"}],"title":"Alarm List","transformations":[{"id":"twinmaker-register-links","options":{"addSelectionField":false,"vars":[{"fieldName":"entityName","name":"${sel_entity_name}"},{"fieldName":"entityId","name":"${sel_entity}"},{"fieldName":"alarmName","name":"${sel_comp}"}]}}],"type":"table"},{"datasource":{"type":"grafana-iot-twinmaker-datasource","uid":"qenjJQtnk"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{"fillOpacity":70,"lineWidth":0,"spanNulls":false},"displayName":"${sel_entity_name}","mappings":[{"options":{"ACKNOWLEDGED":{"color":"blue","index":3,"text":"ACKNOWLEDGED"},"ACTIVE":{"color":"red","index":1,"text":"ACTIVE"},"NORMAL":{"color":"green","index":0,"text":"NORMAL"},"SNOOZE_DISABLED":{"color":"yellow","index":2,"text":"SNOOZE_DISABLED"}},"type":"value"}],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null}]}},"overrides":[]},"gridPos":{"h":4,"w":8,"x":13,"y":14},"id":4,"maxDataPoints":10000,"options":{"alignValue":"left","legend":{"displayMode":"list","placement":"bottom","showLegend":true},"mergeValues":true,"rowHeight":0.9,"showValue":"auto","tooltip":{"mode":"single","sort":"none"}},"targets":[{"componentName":"${sel_comp}","datasource":{"type":"grafana-iot-twinmaker-datasource","uid":"qenjJQtnk"},"entityId":"${sel_entity}","isStreaming":true,"properties":["alarm_status"],"queryType":"EntityHistory","refId":"A"}],"title":"Selected Alarm History","type":"state-timeline"},{"datasource":{"type":"grafana-iot-twinmaker-datasource","uid":"qenjJQtnk"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{"align":"auto","displayMode":"auto","inspect":false},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":7,"w":3,"x":21,"y":14},"id":30,"options":{"footer":{"fields":"","reducer":["sum"],"show":false},"showHeader":true,"sortBy":[{"desc":true,"displayName":"telemetryAssetType {componentName=\"AlarmComponent\", entityId=\"Mixer_9_679aed7c-9544-4d06-bf64-6a19381765ca\"}"}]},"pluginVersion":"9.3.6","targets":[{"componentName":"AlarmComponent","entityId":"${sel_entity}","properties":["alarm_key"],"queryType":"GetPropertyValue","refId":"A"}],"title":"Mixer Alarm Id","transformations":[],"type":"table"},{"datasource":{"type":"grafana-iot-twinmaker-datasource","uid":"qenjJQtnk"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"rotrpm"},"overrides":[]},"gridPos":{"h":4,"w":8,"x":13,"y":18},"id":37,"maxDataPoints":10000,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"8.2.0","targets":[{"componentName":"MixerComponent","datasource":{"type":"grafana-iot-twinmaker-datasource","uid":"qenjJQtnk"},"entityId":"${sel_entity}","isStreaming":true,"properties":["RPM"],"queryType":"EntityHistory","refId":"A"}],"title":"RPM","type":"timeseries"},{"datasource":{"type":"grafana-iot-twinmaker-datasource","uid":"qenjJQtnk"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{"align":"auto","displayMode":"auto","inspect":false},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":6,"w":3,"x":21,"y":21},"id":34,"options":{"footer":{"fields":"","reducer":["sum"],"show":false},"showHeader":true},"pluginVersion":"9.3.6","targets":[{"componentName":"SpecSheets","entityId":"${sel_entity}","properties":["documents"],"queryType":"GetPropertyValue","refId":"A"}],"title":"Asset Specification Documents","type":"table"},{"datasource":{"type":"grafana-iot-twinmaker-datasource","uid":"qenjJQtnk"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"fahrenheit"},"overrides":[]},"gridPos":{"h":5,"w":8,"x":13,"y":22},"id":38,"maxDataPoints":10000,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"8.2.0","targets":[{"componentName":"MixerComponent","datasource":{"type":"grafana-iot-twinmaker-datasource","uid":"qenjJQtnk"},"entityId":"${sel_entity}","isStreaming":true,"properties":["Temperature"],"queryType":"EntityHistory","refId":"A"}],"title":"Motor Temperature","type":"timeseries"},{"datasource":{"type":"grafana-iot-twinmaker-datasource","uid":"qenjJQtnk"},"gridPos":{"h":13,"w":13,"x":0,"y":27},"id":6,"maxDataPoints":10000,"options":{"customSelCompVarName":"${sel_comp}","customSelEntityVarName":"${sel_entity}","datasource":"","sceneId":"CookieFactory"},"targets":[{"componentTypeId":"com.example.cookiefactory.alarm","datasource":{"type":"grafana-iot-twinmaker-datasource","uid":"qenjJQtnk"},"filter":[{"name":"alarm_status","op":"=","value":{"stringValue":"ACTIVE"}}],"isStreaming":true,"order":"DESCENDING","properties":["alarm_status"],"queryType":"ComponentHistory","refId":"A"},{"componentName":"WaterTank","datasource":{"type":"grafana-iot-twinmaker-datasource","uid":"qenjJQtnk"},"entityId":"WaterTank_ab5e8bc0-5c8f-44d8-b0a9-bef9c8d2cfab","hide":false,"isStreaming":true,"properties":["flowRate1"],"queryType":"EntityHistory","refId":"B"},{"componentName":"MixerComponent","datasource":{"type":"grafana-iot-twinmaker-datasource","uid":"qenjJQtnk"},"entityId":"Mixer_1_4b57cbee-c391-4de6-b882-622c633a697e","hide":false,"isStreaming":true,"properties":["Temperature"],"queryType":"EntityHistory","refId":"C"}],"title":"Scene Viewer","type":"grafana-iot-twinmaker-sceneviewer-panel"},{"datasource":{"type":"graphite","uid":"000000001"},"gridPos":{"h":13,"w":11,"x":13,"y":27},"id":8,"options":{"componentName":"","datasource":"","entityId":"","kvsStreamName":"${kvs_stream_name}"},"targets":[{"queryType":"GetAlarms","refId":"A"}],"title":"Video Feeds","type":"grafana-iot-twinmaker-videoplayer-panel"}],"refresh":false,"schemaVersion":37,"style":"dark","tags":[],"templating":{"list":[{"current":{"selected":false,"text":"Mixer_0","value":"Mixer_0"},"hide":2,"name":"sel_entity_name","options":[{"selected":true,"text":"Mixer_0","value":"Mixer_0"}],"query":"Mixer_0","skipUrlSync":false,"type":"textbox"},{"current":{"selected":false,"text":"Mixer_0_cd81d9fd-3f74-437a-802b-9747ff240837","value":"Mixer_0_cd81d9fd-3f74-437a-802b-9747ff240837"},"hide":2,"name":"sel_entity","options":[{"selected":true,"text":"Mixer_0_cd81d9fd-3f74-437a-802b-9747ff240837","value":"Mixer_0_cd81d9fd-3f74-437a-802b-9747ff240837"}],"query":"Mixer_0_cd81d9fd-3f74-437a-802b-9747ff240837","skipUrlSync":false,"type":"textbox"},{"current":{"selected":false,"text":"AlarmComponent","value":"AlarmComponent"},"hide":2,"name":"sel_comp","options":[{"selected":true,"text":"","value":""}],"query":"AlarmComponent","skipUrlSync":false,"type":"textbox"},{"current":{"selected":true,"text":"cookiefactory_mixerroom_camera_02","value":"cookiefactory_mixerroom_camera_02"},"hide":2,"label":"","name":"kvs_stream_name","options":[{"selected":true,"text":"cookiefactory_mixerroom_camera_02","value":"cookiefactory_mixerroom_camera_02"}],"query":"cookiefactory_mixerroom_camera_02","skipUrlSync":false,"type":"textbox"}]},"time":{"from":"now-30m","to":"now"},"timepicker":{},"timezone":"America/Vancouver","title":"AWS IoT TwinMaker Mixer Alarm Dashboard","uid":"y1FGfj57z","version":20,"weekStart":""}}