{"meta":{"type":"db","canSave":false,"canEdit":true,"canAdmin":false,"canStar":false,"canDelete":false,"slug":"charge-vs-light","url":"/d/bO7aWvi7k/charge-vs-light","expires":"0001-01-01T00:00:00Z","created":"2021-07-09T19:18:59Z","updated":"2021-07-09T19:18:59Z","updatedBy":"matt.abrams@grafana.com","createdBy":"matt.abrams@grafana.com","version":1,"hasAcl":false,"isFolder":false,"folderId":0,"folderUid":"","folderTitle":"General","folderUrl":"","provisioned":false,"provisionedExternalId":"","annotationsPermissions":{"dashboard":{"canAdd":true,"canEdit":true,"canDelete":true},"organization":{"canAdd":false,"canEdit":false,"canDelete":false}},"hasPublicDashboard":false,"publicDashboardAccessToken":"","publicDashboardUid":"","publicDashboardEnabled":false},"dashboard":{"datasource":"InfluxDB (db)","description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":20,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":3,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"never","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"noValue":"_","thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"kwatt"},"overrides":[{"matcher":{"id":"byName","options":"kW value {domain=\"sensor\", entity_id=\"solaredge_storage_power\"}"},"properties":[{"id":"displayName","value":"charge (SE)"},{"id":"color","value":{"fixedColor":"blue","mode":"fixed"}},{"id":"custom.lineWidth","value":1}]},{"matcher":{"id":"byFrameRefID","options":"LIGHT"},"properties":[{"id":"custom.axisPlacement","value":"right"},{"id":"unit","value":"lux"},{"id":"custom.drawStyle","value":"line"},{"id":"custom.lineInterpolation","value":"smooth"},{"id":"custom.lineWidth","value":0},{"id":"color","value":{"fixedColor":"light-yellow","mode":"fixed"}},{"id":"custom.fillOpacity","value":24},{"id":"custom.gradientMode","value":"none"}]},{"matcher":{"id":"byName","options":"lx value {domain=\"sensor\", entity_id=\"front_entry_motion_sensor_light_level\"}"},"properties":[{"id":"displayName","value":"light"}]}]},"gridPos":{"h":13,"w":12,"x":0,"y":13},"id":1140,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"multi"}},"targets":[{"query":"from(bucket: \"test\")\n  |\u003e range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |\u003e filter(fn: (r) =\u003e r[\"entity_id\"] == \"solaredge_storage_power\")\n  |\u003e filter(fn: (r) =\u003e r[\"_field\"] == \"value\")\n  |\u003e filter(fn: (r) =\u003e r[\"_measurement\"] == \"kW\")\n  |\u003e map(fn: (r) =\u003e ({\n    r with _value:\n      if r[\"entity_id\"] == \"solaredge_storage_power\" then\n        r._value * -1.0\n      else\n        r._value\n  }))\n  |\u003e aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |\u003e yield(name: \"mean\")","queryType":"randomWalk","refId":"SOLAREDGE"},{"hide":false,"query":"from(bucket: \"test\")\n  |\u003e range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |\u003e filter(fn: (r) =\u003e r[\"entity_id\"] == \"front_entry_motion_sensor_light_level\")\n  |\u003e filter(fn: (r) =\u003e r[\"_field\"] == \"value\")\n  |\u003e aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |\u003e yield(name: \"mean\")","refId":"LIGHT"}],"title":"Charge vs Light","type":"timeseries","uid":"bO7aWvi7k","version":1}}